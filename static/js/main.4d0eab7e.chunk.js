(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{100:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=(n(70),n(31)),c=n.n(s),i=n(23),o=n(24),u=n(25),l=n(26),d=(n(74),n(34)),j=n.n(d),f=n(16),b=n.n(f),h=(n(75),n(11)),p=n(1);var g=function(){return Object(p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 511.999 511.999",children:[Object(p.jsx)("path",{d:"M510.156 401.843L480.419 315.3c14.334-29.302 21.909-61.89 21.96-94.679.088-57.013-21.97-110.92-62.112-151.79-40.15-40.878-93.652-63.889-150.652-64.792-59.105-.934-114.661 21.548-156.428 63.314-40.274 40.273-62.612 93.366-63.319 150.102-39.694 29.886-63.123 76.481-63.046 126.25.037 23.29 5.279 46.441 15.212 67.376L1.551 470.689c-3.521 10.247-.949 21.373 6.713 29.035 5.392 5.393 12.501 8.264 19.812 8.264 3.076 0 6.188-.508 9.223-1.551l59.609-20.483c20.935 9.933 44.086 15.175 67.376 15.212h.248c50.51-.002 97.46-24.035 127.237-64.702 30.987-.816 61.646-8.317 89.363-21.876l86.544 29.738a33.696 33.696 0 0010.959 1.843c8.688 0 17.136-3.412 23.545-9.822 9.104-9.105 12.16-22.326 7.976-34.504zM164.53 470.69h-.199c-20.614-.031-41.085-5.113-59.196-14.695a15.244 15.244 0 00-12.078-.942l-61.123 21.003 21.003-61.122a15.24 15.24 0 00-.942-12.078c-9.582-18.112-14.664-38.582-14.696-59.197-.051-33.159 12.848-64.588 35.405-88.122 7.368 44.916 28.775 86.306 61.957 118.898 32.937 32.351 74.339 52.949 119.011 59.683-23.588 23.249-55.384 36.572-89.142 36.572zm316.098-55.893c-.867.867-1.895 1.103-3.051.705l-92.648-31.836a15.232 15.232 0 00-12.077.942c-26.453 13.994-56.345 21.416-86.447 21.462h-.288c-100.863 0-184.176-81.934-185.774-182.773-.805-50.785 18.513-98.514 54.394-134.395 35.881-35.881 83.618-55.192 134.396-54.392 100.936 1.601 182.926 85.068 182.77 186.063-.047 30.102-7.468 59.995-21.461 86.446a15.24 15.24 0 00-.942 12.078l31.835 92.648c.397 1.16.159 2.187-.707 3.052z",fill:"#b8b5ff","data-original":"#000000",xmlns:"http://www.w3.org/2000/svg"}),Object(p.jsx)("path",{d:"M376.892 139.512h-181.56c-8.416 0-15.238 6.823-15.238 15.238 0 8.416 6.823 15.238 15.238 15.238h181.56c8.416 0 15.238-6.823 15.238-15.238s-6.822-15.238-15.238-15.238zM376.892 202.183h-181.56c-8.416 0-15.238 6.823-15.238 15.238s6.823 15.238 15.238 15.238h181.56c8.416 0 15.238-6.823 15.238-15.238s-6.822-15.238-15.238-15.238zM307.004 264.852H195.331c-8.416 0-15.238 6.823-15.238 15.238 0 8.416 6.823 15.238 15.238 15.238h111.672c8.416 0 15.238-6.823 15.238-15.238s-6.821-15.238-15.237-15.238z",fill:"#b8b5ff","data-original":"#000000",xmlns:"http://www.w3.org/2000/svg"})]})};var O=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 477.869 477.869",width:25,height:25,children:Object(p.jsx)("path",{d:"M387.415 233.496c48.976-44.029 52.987-119.424 8.958-168.4C355.991 20.177 288.4 12.546 239.02 47.332c-53.83-37.99-128.264-25.149-166.254 28.68-34.859 49.393-27.259 117.054 17.689 157.483C34.606 262.935-.251 320.976.002 384.108v51.2c0 9.426 7.641 17.067 17.067 17.067h443.733c9.426 0 17.067-7.641 17.067-17.067v-51.2c.252-63.132-34.605-121.173-90.454-150.612zM307.201 59.842c47.062-.052 85.256 38.057 85.309 85.119.037 33.564-19.631 64.023-50.237 77.799-1.314.597-2.628 1.143-3.959 1.707a83.66 83.66 0 01-12.988 4.045c-.853.188-1.707.29-2.577.461a85.366 85.366 0 01-15.019 1.519c-2.27 0-4.557-.171-6.827-.375-.853 0-1.707 0-2.56-.171a86.219 86.219 0 01-27.904-8.226c-.324-.154-.7-.137-1.024-.273-1.707-.819-3.413-1.536-4.932-2.458.137-.171.222-.358.358-.529a119.721 119.721 0 0018.278-33.297l.529-1.434a120.381 120.381 0 004.523-17.562c.154-.87.273-1.707.41-2.645.987-6.067 1.506-12.2 1.553-18.347a120.041 120.041 0 00-1.553-18.313c-.137-.887-.256-1.707-.41-2.645a120.414 120.414 0 00-4.523-17.562l-.529-1.434a119.747 119.747 0 00-18.278-33.297c-.137-.171-.222-.358-.358-.529a84.787 84.787 0 0142.718-11.553zM85.335 145.176c-.121-47.006 37.886-85.21 84.892-85.331a85.112 85.112 0 0159.134 23.686c.99.956 1.963 1.911 2.918 2.901a87.748 87.748 0 018.09 9.813c.751 1.058 1.434 2.185 2.133 3.277a83.951 83.951 0 016.263 11.52c.427.973.751 1.963 1.126 2.935a83.422 83.422 0 014.233 13.653c.12.512.154 1.024.256 1.553a80.338 80.338 0 010 32.119c-.102.529-.137 1.041-.256 1.553a83.228 83.228 0 01-4.233 13.653c-.375.973-.7 1.963-1.126 2.935a84.251 84.251 0 01-6.263 11.503c-.7 1.092-1.382 2.219-2.133 3.277a87.549 87.549 0 01-8.09 9.813c-.956.99-1.929 1.946-2.918 2.901a85.187 85.187 0 01-23.569 15.906 49.35 49.35 0 01-4.198 1.707 85.839 85.839 0 01-12.663 3.925c-1.075.239-2.185.375-3.277.563a84.67 84.67 0 01-14.046 1.417h-1.877a84.563 84.563 0 01-14.046-1.417c-1.092-.188-2.202-.324-3.277-.563a85.802 85.802 0 01-12.663-3.925c-1.417-.563-2.816-1.143-4.198-1.707-30.534-13.786-50.173-44.166-50.212-77.667zm221.866 273.066H34.135v-34.133c-.25-57.833 36.188-109.468 90.76-128.614a119.092 119.092 0 0091.546 0 137.138 137.138 0 0116.623 7.356c3.55 1.826 6.827 3.908 10.24 6.007 2.219 1.382 4.471 2.731 6.605 4.25 3.294 2.338 6.4 4.881 9.455 7.492 1.963 1.707 3.908 3.413 5.751 5.12 2.816 2.662 5.461 5.478 8.004 8.363a134.465 134.465 0 015.291 6.383 132.594 132.594 0 016.349 8.823c1.707 2.56 3.226 5.222 4.727 7.885 1.707 2.935 3.277 5.871 4.71 8.926 1.434 3.055 2.697 6.4 3.925 9.66 1.075 2.833 2.219 5.649 3.106 8.533 1.195 3.959 2.031 8.055 2.867 12.151.512 2.423 1.178 4.796 1.553 7.253a141.153 141.153 0 011.553 20.412v34.133zm136.534 0h-102.4v-34.133c0-5.342-.307-10.633-.785-15.872-.137-1.536-.375-3.055-.546-4.591-.461-3.772-.99-7.509-1.707-11.213a246.936 246.936 0 00-.973-4.762c-.819-3.8-1.769-7.566-2.85-11.298-.358-1.229-.683-2.475-1.058-3.686a169.105 169.105 0 00-20.565-43.127l-.666-.973a168.958 168.958 0 00-9.404-12.646l-.119-.154a154.895 154.895 0 00-11.008-12.237h.7a120.8 120.8 0 0014.524 1.024h.939c4.496-.039 8.985-.33 13.449-.87 1.399-.171 2.782-.427 4.181-.649a117.43 117.43 0 0010.752-2.167c1.007-.256 2.031-.495 3.055-.785a116.211 116.211 0 0013.653-4.642c54.612 19.127 91.083 70.785 90.829 128.649v34.132z",fill:"#b8b5ff"})})};var v=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 512 512",children:Object(p.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M437.02 74.98C388.668 26.63 324.379 0 256 0 187.617 0 123.332 26.629 74.98 74.98 26.63 123.332 0 187.617 0 256c0 68.379 26.629 132.668 74.98 181.02C123.332 485.37 187.617 512 256 512c68.379 0 132.668-26.629 181.02-74.98C485.37 388.668 512 324.379 512 256c0-68.383-26.629-132.668-74.98-181.02zM128.34 442.387c10.707-61.649 64.129-107.121 127.66-107.121 63.535 0 116.953 45.472 127.66 107.12C347.312 467.36 303.336 482 256 482s-91.313-14.64-127.66-39.613zm46.262-218.52c0-44.887 36.515-81.398 81.398-81.398s81.398 36.515 81.398 81.398c0 44.883-36.515 81.399-81.398 81.399s-81.398-36.516-81.398-81.399zm235.043 197.711c-8.075-28.7-24.11-54.738-46.586-75.078a159.444 159.444 0 00-46.36-29.27c30.5-19.894 50.703-54.312 50.703-93.363 0-61.426-49.976-111.398-111.402-111.398S144.602 162.44 144.602 223.867c0 39.051 20.203 73.469 50.699 93.363a159.483 159.483 0 00-46.36 29.266c-22.472 20.34-38.511 46.379-46.586 75.078C57.883 380.274 30 321.336 30 256 30 131.383 131.383 30 256 30s226 101.383 226 226c0 65.34-27.883 124.277-72.355 165.578zm0 0",fill:"#b8b5ff","data-original":"#000000"})})};var m=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 395.569 395.569",children:Object(p.jsxs)("g",{xmlns:"http://www.w3.org/2000/svg",children:[Object(p.jsx)("path",{d:"M365.11 81.124c-2.3-29.794-27.261-53.339-57.635-53.339H57.826C25.941 27.785 0 53.726 0 85.61v224.35c0 31.884 25.941 57.825 57.826 57.825h279.918c31.885 0 57.826-25.941 57.826-57.825V132.03c-.001-21.987-12.345-41.131-30.46-50.906zM333.99 309.96c0 14.619-11.894 26.514-26.514 26.514H57.826c-14.62 0-26.514-11.895-26.514-26.514V85.61c0-14.619 11.894-26.514 26.514-26.514h249.65c14.62 0 26.514 11.895 26.514 26.514v224.35z","data-original":"#000000",fill:"#b8b5ff"}),Object(p.jsx)("path",{d:"M62.901 145.138h.652a8.155 8.155 0 008.156-8.157v-28.756l24.358 33.548a8.16 8.16 0 006.601 3.365h.791c.03 0 .06-.006.088-.006.041 0 .081.006.123.006h.652a8.156 8.156 0 008.156-8.157V83.399a8.157 8.157 0 00-8.156-8.157h-.652a8.156 8.156 0 00-8.157 8.157v28.755L71.156 78.606a8.159 8.159 0 00-6.6-3.364h-.792c-.03 0-.058.006-.088.006-.042 0-.082-.006-.123-.006h-.652a8.156 8.156 0 00-8.156 8.157v53.582a8.155 8.155 0 008.156 8.157zM162.419 128.824h-25.441v-10.971h20.764a8.156 8.156 0 008.156-8.155v-.653a8.156 8.156 0 00-8.156-8.157h-20.764v-8.681h24.349a8.156 8.156 0 008.157-8.156v-.652a8.156 8.156 0 00-8.157-8.157h-33.158a8.157 8.157 0 00-8.157 8.157v53.582a8.156 8.156 0 008.157 8.157h34.251a8.157 8.157 0 10-.001-16.314zM198.958 145.138h.501l.032-.002.032.002h.421a8.16 8.16 0 007.731-5.553l10.196-30.274 10.148 30.265a8.154 8.154 0 007.733 5.563h.501l.032-.002.033.002h.421a8.156 8.156 0 007.724-5.537l18.168-53.583a8.155 8.155 0 00-7.723-10.776h-.835a8.156 8.156 0 00-7.742 5.59L236.268 111.2l-10.11-30.376a8.156 8.156 0 00-7.739-5.581h-1.14a8.155 8.155 0 00-7.742 5.59L199.474 111.2l-10.109-30.376a8.156 8.156 0 00-7.74-5.581h-.834a8.16 8.16 0 00-6.63 3.405 8.153 8.153 0 00-1.095 7.371l18.168 53.583a8.154 8.154 0 007.724 5.536zM289.496 145.138c18.084 0 26.178-10.525 26.177-20.893.125-16.176-13.955-20.431-22.368-22.973-9.335-2.822-10.215-3.955-10.215-6.244 0-1.362 3.264-2.82 8.12-2.82 3.25 0 7.099.954 9.36 2.318a8.155 8.155 0 0011.135-2.661l.299-.479a8.152 8.152 0 001.018-6.202 8.147 8.147 0 00-3.693-5.085c-4.992-3.041-11.765-4.857-18.119-4.857-17.33 0-25.087 9.937-25.087 19.786 0 15.75 13.332 19.788 22.153 22.459 9.605 2.909 10.453 4.065 10.432 6.699 0 2.739-4.776 3.986-9.212 3.986-4.31 0-9.038-1.84-11.766-4.579a8.157 8.157 0 00-5.77-2.402h-.008c-2.162 0-4.239.86-5.768 2.39l-.445.446a8.155 8.155 0 00.078 11.613c6.021 5.859 15.094 9.498 23.679 9.498zM147.338 168.909H69.755c-8.646 0-15.656 7.009-15.656 15.656 0 8.646 7.009 15.656 15.656 15.656h77.582c8.646 0 15.656-7.01 15.656-15.656.001-8.647-7.009-15.656-15.655-15.656zM147.338 221.094H69.755c-8.646 0-15.656 7.01-15.656 15.656s7.009 15.656 15.656 15.656h77.582c8.646 0 15.656-7.009 15.656-15.656.001-8.646-7.009-15.656-15.655-15.656zM147.338 273.281H69.755c-8.646 0-15.656 7.009-15.656 15.656 0 8.646 7.009 15.656 15.656 15.656h77.582c8.646 0 15.656-7.01 15.656-15.656.001-8.647-7.009-15.656-15.655-15.656zM306.61 166.698H186.967c-5.005 0-9.064 4.059-9.064 9.063V297.74c0 5.005 4.059 9.063 9.064 9.063H306.61a9.064 9.064 0 009.064-9.063V175.761a9.064 9.064 0 00-9.064-9.063z","data-original":"#000000",fill:"#b8b5ff"})]})})};var w=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 512 512",children:Object(p.jsx)("path",{d:"M209.297 106.47c-27.041-19.819-54.785-44.246-74.531-73.865L117.48 6.677c-3.662-5.493-10.488-7.939-16.831-6.035A15 15 0 0090 14.998v235.344c-8.86-5.167-19.023-8.344-30-8.344-33.091 0-60 26.909-60 60s26.909 59.999 60 59.999 60-26.909 60-60V64.249c21.196 26.792 47.71 48.93 71.558 66.42C203.276 139.253 210 152.496 210 166.997c0 24.814-20.186 45-45 45-8.291 0-15 6.709-15 15s6.709 15 15 15c41.353 0 75-33.647 75-75 0-23.804-11.47-46.421-30.703-60.527zM492.884 122.569l-212 60A15.013 15.013 0 00270 196.998v203.344c-8.86-5.167-19.023-8.344-30-8.344-33.091 0-60 26.909-60 60s26.909 60 60 60 60-26.909 60-60v-183.68l182-51.429v123.453c-8.86-5.167-19.023-8.344-30-8.344-33.091 0-60 26.909-60 60s26.909 60 60 60 60-26.909 60-60v-255c0-9.921-9.49-17.148-19.116-14.429z",fill:"#b8b5ff","data-original":"#000000",xmlns:"http://www.w3.org/2000/svg"})})},x=function(){return Object(p.jsx)("nav",{className:b.a.nav,children:Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{className:b.a.item,children:[Object(p.jsx)(v,{}),Object(p.jsx)(h.b,{to:"/profile",activeClassName:b.a.active,children:"Profile"})]}),Object(p.jsxs)("li",{className:b.a.item,children:[Object(p.jsx)(g,{}),Object(p.jsx)(h.b,{to:"/dialogs",activeClassName:b.a.active,children:"Messages"})]}),Object(p.jsxs)("li",{className:b.a.item,children:[Object(p.jsx)(O,{}),Object(p.jsx)(h.b,{to:"/users",activeClassName:b.a.active,children:"Users"})]}),Object(p.jsxs)("li",{className:b.a.item,children:[Object(p.jsx)(m,{}),Object(p.jsx)(h.b,{to:"/news",activeClassName:b.a.active,children:"News"})]}),Object(p.jsxs)("li",{className:b.a.item,children:[Object(p.jsx)(w,{}),Object(p.jsx)(h.b,{to:"/music",activeClassName:b.a.active,children:"Music"})]})]})})},S=n(6),P=n(8),C=n(29),E=n(5),U=n.n(E),z=n(14),I=n(27),y=n(2),N=n(4),T=n(17),F=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(y.a)(Object(y.a)({},e),r):e}))},M={users:[],totalUsersCount:20,pageSize:5,currentPage:1,isFetching:!1,followingInProgress:[]},_=function(){var e=Object(z.a)(U.a.mark((function e(t,n,r,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N.a.toggleFollowingInProgress(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(N.a.toggleFollowingInProgress(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:F(e.users,t.id,"id",{followed:!0})});case"UNFOLLOW":return Object(y.a)(Object(y.a)({},e),{},{users:F(e.users,t.id,"id",{followed:!1})});case"SET-USERS":return Object(y.a)(Object(y.a)({},e),{},{users:t.users});case"SET-CURRENT-PAGE":return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(y.a)(Object(y.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE-IS-FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-FOLLOWING-IN-PROGRESS":return Object(y.a)(Object(y.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(I.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},A=n(46),k=n(37),R=n.n(k),D=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,s=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var d=Math.ceil(o/i),j=Object(r.useState)(1),f=Object(A.a)(j,2),b=f[0],h=f[1],g=(b-1)*i+1,O=b*i;return Object(p.jsxs)("div",{className:R.a.paginator,children:[b>1&&Object(p.jsx)("button",{onClick:function(){h(b-1)},children:"PREV"}),u.filter((function(e){return e>=g&&e<=O})).map((function(e){return Object(p.jsx)("span",{className:a===e?R.a.selectedPage:R.a.pageNotSelected,onClick:function(t){return s(e)},children:e},e)})),d>b&&Object(p.jsx)("button",{onClick:function(){h(b+1)},children:"NEXT"})]})},G=n(65),H=n.n(G),B=n(61),W=function(e){var t=e.user,n=e.follow,r=e.unfollow,a=e.followingInProgress,s=Object(P.c)();return Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(h.b,{to:"/profile/"+t.id,children:Object(p.jsx)("img",{className:H.a.userPhoto,src:t.photos.small?t.photos.small:B.a,alt:"user avatar"})})}),Object(p.jsx)("div",{children:t.followed?Object(p.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){s(r(t.id))},children:"Unfollow"}):Object(p.jsx)("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){s(n(t.id))},children:"Follow"})})]}),Object(p.jsx)("span",{children:Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:t.name}),Object(p.jsx)("div",{children:t.status})]})})]},t.id)},V=function(e){var t=e.users,n=e.totalUsersCount,r=e.pageSize,a=e.currentPage,s=e.unfollow,c=e.follow,i=e.onPageChanged,o=e.followingInProgress;Object(P.c)();return Object(p.jsxs)("div",{children:[Object(p.jsx)(D,{currentPage:a,onPageChanged:i,pageSize:r,totalUsersCount:n}),t.map((function(e){return Object(p.jsx)(W,{user:e,follow:c,unfollow:s,followingInProgress:o},e.id)}))]})},Z=function(e){return e.users.users},J=function(e){return e.users.totalUsersCount},X=function(e){return e.users.pageSize},q=function(e){return e.users.currentPage},K=function(e){return e.users.isFetching},Y=function(e){return e.users.followingInProgress},$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props,r=n.setCurrentPage,a=n.getUsers,s=n.pageSize;r(t),a(t,s)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.getUsers)(t,n)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(C.a,{}):null,Object(p.jsx)(V,{users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),Q=N.a.setUsers,ee=N.a.setCurrentPage,te=N.a.setTotalUsersCount,ne=N.a.toggleIsFetching,re=Object(P.b)((function(e){return{users:Z(e),totalUsersCount:J(e),pageSize:X(e),currentPage:q(e),isFetching:K(e),followingInProgress:Y(e)}}),{setUsers:Q,setCurrentPage:ee,setTotalUsersCount:te,toggleIsFetching:ne,getUsers:function(e,t){return function(){var n=Object(z.a)(U.a.mark((function n(r){var a;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(N.a.toggleIsFetching(!0)),n.next=3,T.c.getUsers(e,t);case 3:a=n.sent,r(N.a.setUsers(a.data.items)),r(N.a.setTotalUsersCount(a.data.totalCount)),r(N.a.toggleIsFetching(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){return function(){var t=Object(z.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,T.c.follow.bind(e),N.a.followSuccess);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},unfollow:function(e){return function(){return function(){var t=Object(z.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,T.c.unfollow.bind(e),N.a.unfollowSuccess);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}})($),ae=a.a.memo((function(e){return Object(p.jsx)("header",{className:j.a.header,children:Object(p.jsx)("div",{className:j.a.loginBlock,children:e.isAuth?Object(p.jsxs)("div",{children:[e.login," - ",Object(p.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(p.jsx)(h.b,{to:"/login",children:"Login"})})})})),se={id:0,email:"",login:"",isAuth:!1},ce=function(){return function(){var e=Object(z.a)(U.a.mark((function e(t){var n,r,a,s,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.getAuthUserData();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.email,s=r.id,c=r.login,t(N.a.setUserData(s,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=n(41),oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(ae,Object(y.a)({},this.props))}}]),n}(a.a.Component);var ue=N.a.setUserData,le=Object(P.b)((function(e){return{isAuth:Object(ie.b)(e),login:Object(ie.c)(e)}}),{setUserData:ue,logout:function(){return function(){var e=Object(z.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.logout();case 2:e.sent,t(N.a.setUserData(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(oe),de=n(22),je=n(62),fe=n(45),be={dialogs:[{id:Object(fe.a)(),name:"Dietrich"},{id:Object(fe.a)(),name:"Wolfgang"},{id:Object(fe.a)(),name:"Helen"},{id:Object(fe.a)(),name:"Klaus"},{id:Object(fe.a)(),name:"Brigitte"},{id:Object(fe.a)(),name:"Marlene"}],messages:[{id:Object(fe.a)(),message:"Hi!"},{id:Object(fe.a)(),message:"How are you?"},{id:Object(fe.a)(),message:"Yo"}]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(y.a)(Object(y.a)({},e),{},{messages:[].concat(Object(I.a)(e.messages),[{id:Object(fe.a)(),message:t.message}])});default:return e}},pe={initialized:!1},ge=n(66),Oe=Object(de.b)({profile:je.a,dialogs:he,users:L,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(y.a)({},t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZED":return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});default:return e}}}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.c,me=Object(de.d)(Oe,ve(Object(de.a)(ge.a)));window.store=me;var we=me,xe=function(e){return e.app.initialized},Se=n(49),Pe=n(38),Ce=n.n(Pe),Ee=function(){var e=Object(P.c)(),t=Object(P.d)((function(e){return e.auth.isAuth})),n=Object(Se.c)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(t){var r=t.email,a=t.password,s=t.rememberMe;e(function(e,t,n){return function(){var r=Object(z.a)(U.a.mark((function r(a){return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.login(e,t,n);case 2:0===r.sent.data.resultCode&&a(ce());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(r,a,s)),n.resetForm()}});return t?Object(p.jsx)(S.a,{to:"/profile"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Login"}),Object(p.jsxs)("form",{className:Ce.a.loginForm,onSubmit:n.handleSubmit,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",Object(y.a)({type:"email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(p.jsx)("div",{className:Ce.a.error,children:n.errors.email}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",Object(y.a)({type:"password"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(p.jsx)("div",{className:Ce.a.error,children:n.errors.password}),Object(p.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me"}),Object(p.jsx)("input",Object(y.a)({type:"checkbox"},n.getFieldProps("rememberMe"))),Object(p.jsx)("button",{children:"Log in"})]})]})};function Ue(e){return function(t){return Object(p.jsx)(a.a.Suspense,{fallback:Object(p.jsx)(C.a,{}),children:Object(p.jsx)(e,Object(y.a)({},t))})}}var ze=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,257))})),Ie=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,258))})),ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsxs)("div",{className:"app-wrapper",children:[Object(p.jsx)(le,{}),Object(p.jsx)(x,{}),Object(p.jsxs)("div",{className:"app-wrapper-content",children:[Object(p.jsx)(S.b,{path:"/profile/:userId?",render:Ue(ze)}),Object(p.jsx)(S.b,{path:"/dialogs",render:Ue(Ie)}),Object(p.jsx)(S.b,{path:"/users",render:function(){return Object(p.jsx)(re,{})}}),Object(p.jsx)(S.b,{path:"/login",render:function(){return Object(p.jsx)(Ee,{})}})]})]}):Object(p.jsx)(C.a,{})}}]),n}(a.a.Component),Ne=Object(de.c)(S.f,Object(P.b)((function(e){return{initialized:xe(e)}}),{initializeApp:function(){return function(e){var t=e(ce());Promise.all([t]).then((function(){return e(N.a.setInitialized())}))}}}))(ye),Te=function(){return Object(p.jsx)(h.a,{children:Object(p.jsx)(P.a,{store:we,children:Object(p.jsx)(Ne,{})})})};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Te,{})}),document.getElementById("root"))},16:function(e,t,n){e.exports={nav:"Navbar_nav__3WzJl",item:"Navbar_item__3RUwT",active:"Navbar_active__ueEIo"}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(64),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"34d63932-9379-4f86-a5b9-c4b335d4ab1f"}}),s={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},c={getAuthUserData:function(){return a.get("auth/me")},login:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}},i={getUserProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",e)}}},29:function(e,t,n){"use strict";var r=n(63),a=n.n(r),s=(n(0),n(1));t.a=function(){return Object(s.jsxs)("div",{className:a.a.ldsRing,children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}},34:function(e,t,n){e.exports={header:"Header_header__1PWx2",loginBlock:"Header_loginBlock__3bGBW"}},37:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__1910z",pageNotSelected:"Paginator_pageNotSelected__UL56Z"}},38:function(e,t,n){e.exports={loginForm:"Login_loginForm__3OhcP",error:"Login_error__3-X93"}},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(45),a={followSuccess:function(e){return{type:"FOLLOW",id:e}},unfollowSuccess:function(e){return{type:"UNFOLLOW",id:e}},setUsers:function(e){return{type:"SET-USERS",users:e}},setCurrentPage:function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET-TOTAL-USERS-COUNT",totalCount:e}},toggleIsFetching:function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},toggleFollowingInProgress:function(e,t){return{type:"TOGGLE-FOLLOWING-IN-PROGRESS",isFetching:e,userId:t}},sendMessage:function(e){return{type:"SEND-MESSAGE",message:e}},addPost:function(e){return{type:"ADD-POST",post:{id:Object(r.a)(),message:e,likesCount:0}}},setUserProfile:function(e){return{type:"SET-USER-PROFILE",profile:e}},setUserData:function(e,t,n,r){return{type:"SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:r}}},setStatus:function(e){return{type:"SET-STATUS",status:e}},setInitialized:function(){return{type:"SET-INITIALIZED"}}}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.id},s=function(e){return e.auth.login}},61:function(e,t,n){"use strict";t.a=n.p+"static/media/default-user-avatar.2aec62ff.jpg"},62:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b}));var r=n(5),a=n.n(r),s=n(14),c=n(27),i=n(2),o=n(45),u=n(4),l=n(17),d={posts:[{id:Object(o.a)(),message:"Hi, how are you?",likesCount:12},{id:Object(o.a)(),message:"It's my first post",likesCount:11}],profile:{aboutMe:"",contacts:{},lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",userId:2,photos:{small:"",large:""}},status:""},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.getUserProfile(e);case 2:r=t.sent,n(u.a.setUserProfile(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.getStatus(e);case 2:null!==(r=t.sent).data&&n(u.a.setStatus(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.updateStatus({status:e});case 2:0===t.sent.data.resultCode&&n(u.a.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(i.a)(Object(i.a)({},e),{},{posts:[t.post].concat(Object(c.a)(e.posts))});case"SET-USER-PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});default:return e}}},63:function(e,t,n){e.exports={ldsRing:"Preloader_ldsRing__3jE4n"}},65:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__10aPa"}},70:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){}},[[100,2,3]]]);
//# sourceMappingURL=main.4d0eab7e.chunk.js.map